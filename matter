-- MatterUi Library for Roblox

local MatterUi = {}
MatterUi.__index = MatterUi

-- Function to create a new window
function MatterUi:MakeWindow(config)
    -- Create the UI elements
    local MatterUiInstance = Instance.new("ScreenGui")
    MatterUiInstance.Name = config.Name or "Matter Ui"
    MatterUiInstance.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    MatterUiInstance.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    local Window = Instance.new("Frame")
    Window.Name = "Window"
    Window.Parent = MatterUiInstance
    Window.BackgroundColor3 = config.BackgroundColor or Color3.new(0.4, 0.164706, 1)
    Window.BorderColor3 = config.BorderColor or Color3.new(0, 0, 0)
    Window.BorderSizePixel = 0
    Window.Position = config.Position or UDim2.new(0.315634221, 0, 0.146964863, 0)
    Window.Size = config.Size or UDim2.new(0, 500, 0, 441)

    local Panel = Instance.new("Frame")
    Panel.Name = "Panel"
    Panel.Parent = Window
    Panel.BackgroundColor3 = config.PanelColor or Color3.new(0.32549, 0.101961, 1)
    Panel.BorderColor3 = Color3.new(0, 0, 0)
    Panel.BorderSizePixel = 0
    Panel.Size = UDim2.new(0, 500, 0, 45)

    local Title = Instance.new("TextLabel")
    Title.Name = "Title"
    Title.Parent = Panel
    Title.BackgroundTransparency = 1
    Title.Size = UDim2.new(0, 192, 0, 45)
    Title.Font = Enum.Font.SourceSansBold
    Title.Text = config.Name or "Matter Ui"
    Title.TextColor3 = config.TextColor or Color3.new(1, 1, 1)
    Title.TextScaled = true

    local CloseButton = Instance.new("TextButton")
    CloseButton.Name = "CloseButton"
    CloseButton.Parent = Panel
    CloseButton.BackgroundTransparency = 1
    CloseButton.Position = UDim2.new(0.903999984, 0, 0, 0)
    CloseButton.Size = UDim2.new(0, 48, 0, 45)
    CloseButton.Font = Enum.Font.SourceSansBold
    CloseButton.Text = "X"
    CloseButton.TextColor3 = Color3.new(1, 0, 0)
    CloseButton.TextScaled = true

    CloseButton.MouseButton1Click:Connect(function()
        if config.CloseCallback then
            config.CloseCallback()
        end
        MatterUiInstance:Destroy()  -- Close the window when "X" is clicked
    end)

    -- Return the created window
    return MatterUiInstance
end

-- Function to create a button (for use in the window)
function MatterUi:MakeButton(config)
    local Button = Instance.new("TextButton")
    Button.Name = config.Name or "Button"
    Button.Parent = config.Parent
    Button.Size = config.Size or UDim2.new(0, 150, 0, 50)
    Button.Position = config.Position or UDim2.new(0.5, -75, 0.5, -25)
    Button.Text = config.Text or "Button"
    Button.Font = Enum.Font.SourceSans
    Button.TextColor3 = config.TextColor or Color3.new(1, 1, 1)
    Button.TextScaled = true

    Button.MouseButton1Click:Connect(config.Callback)

    return Button
end

-- Export the MatterUi library
return MatterUi
